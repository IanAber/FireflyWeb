-- firefly.logging definition

CREATE DATABASE `firefly2` DEFAULT CHARACTER SET utf8;

CREATE TABLE `firefly2`.`logging` (
  `logged` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6),
  `el1Status` varchar(25) DEFAULT NULL,
  `el1Rate` smallint(6) DEFAULT NULL,
  `el1ElectrolyteLevel` varchar(15) DEFAULT NULL,
  `el1ElectrolyteTemp` float DEFAULT NULL,
  `el1State` varchar(25) DEFAULT NULL,
  `el1H2Flow` float DEFAULT NULL,
  `el1H2InnerPressure` float DEFAULT NULL,
  `el1H2OuterPressure` float DEFAULT NULL,
  `el1StackVoltage` float DEFAULT NULL,
  `el1SystemState` varchar(25) DEFAULT NULL,
  `el1WaterPressure` float DEFAULT NULL,
  `dr1Status` varchar(25) DEFAULT NULL,
  `dr1Temp0` float DEFAULT NULL,
  `dr1Temp1` float DEFAULT NULL,
  `dr1Temp2` float DEFAULT NULL,
  `dr1Temp3` float DEFAULT NULL,
  `dr1InputPressure` float DEFAULT NULL,
  `dr1OutputPressure` float DEFAULT NULL,
  `dr1Warning` varchar(50) DEFAULT NULL,
  `el2Status` varchar(25) DEFAULT NULL,
  `el2Rate` smallint(6) DEFAULT NULL,
  `el2ElectrolyteLevel` varchar(15) DEFAULT NULL,
  `el2ElectrolyteTemp` float DEFAULT NULL,
  `el2State` varchar(25) DEFAULT NULL,
  `el2H2Flow` float DEFAULT NULL,
  `el2H2InnerPressure` float DEFAULT NULL,
  `el2H2OuterPressure` float DEFAULT NULL,
  `el2StackVoltage` float DEFAULT NULL,
  `el2SystemState` varchar(25) DEFAULT NULL,
  `el2WaterPressure` float DEFAULT NULL,
  `dr2Status` varchar(25) DEFAULT NULL,
  `dr2Temp0` float DEFAULT NULL,
  `dr2Temp1` float DEFAULT NULL,
  `dr2Temp2` float DEFAULT NULL,
  `dr2Temp3` float DEFAULT NULL,
  `dr2InputPressure` float DEFAULT NULL,
  `dr2OutputPressure` float DEFAULT NULL,
  `dr2Warning` varchar(50) DEFAULT NULL,
  `fc1State` varchar(25) DEFAULT NULL,
  `fc1AnodePressure` float DEFAULT NULL,
  `fc1FaultFlagA` bigint(20) DEFAULT NULL,
  `fc1FaultFlagB` bigint(20) DEFAULT NULL,
  `fc1FaultFlagC` bigint(20) DEFAULT NULL,
  `fc1FaultFlagD` bigint(20) DEFAULT NULL,
  `fc1InletTemp` float DEFAULT NULL,
  `fc1OutletTemp` float DEFAULT NULL,
  `fc1OutputPower` float DEFAULT NULL,
  `fc1OutputCurrent` float DEFAULT NULL,
  `fc1OutputVoltage` float DEFAULT NULL,
  `fc2State` varchar(25) DEFAULT NULL,
  `fc2AnodePressure` float DEFAULT NULL,
  `fc2FaultFlagA` bigint(20) DEFAULT NULL,
  `fc2FaultFlagB` bigint(20) DEFAULT NULL,
  `fc2FaultFlagC` bigint(20) DEFAULT NULL,
  `fc2FaultFlagD` bigint(20) DEFAULT NULL,
  `fc2InletTemp` float DEFAULT NULL,
  `fc2OutletTemp` float DEFAULT NULL,
  `fc2OutputPower` float DEFAULT NULL,
  `fc2OutputCurrent` float DEFAULT NULL,
  `fc2OutputVoltage` float DEFAULT NULL,
  `gasFuelCellPressure` float DEFAULT NULL,
  `gasTankPressure` float DEFAULT NULL,
  `totalDissolvedSolids` smallint(6) DEFAULT NULL,
  `relayGas` tinyint(1) DEFAULT '0',
  `relayFuelCell1Enable` tinyint(1) DEFAULT '0',
  `relayFuelCell1Run` tinyint(1) DEFAULT '0',
  `relayFuelCell2Enable` tinyint(1) DEFAULT '0',
  `relayFuelCell2Run` tinyint(1) DEFAULT '0',
  `relayEl1Power` tinyint(1) DEFAULT '0',
  `relayEl2Power` tinyint(1) DEFAULT '0',
  `relayDrain` tinyint(1) DEFAULT '0',
  PRIMARY KEY (`logged`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

DROP USER IF EXISTS 'ff2'@'localhost';

CREATE USER ff2@localhost identified BY 'password';
GRANT select,insert,update ON firefly.logging TO 'ff2'@'localhost';

GRANT Execute, Usage ON firefly.* TO 'ff2'@'localhost';
GRANT Create temporary tables ON firefly.* TO 'ff2'@'localhost';

